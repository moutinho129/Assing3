\hypertarget{cmd_8h}{}\doxysection{include/cmd.h File Reference}
\label{cmd_8h}\index{include/cmd.h@{include/cmd.h}}


Ficheiro de cabeçalho para teste dos comandos do sistema SETR Mini-\/\+Projeto.  


This graph shows which files directly or indirectly include this file\+:
% FIG 0
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{cmd_8h_a7e4912ef6d5612f8ebca463ff206d9ce}\label{cmd_8h_a7e4912ef6d5612f8ebca463ff206d9ce}} 
\#define {\bfseries UART\+\_\+\+RX\+\_\+\+SIZE}~50  /$\ast$ Maximum size of the RX buffer $\ast$/
\item 
\mbox{\Hypertarget{cmd_8h_a7bd31e3844f5461db2cbe6d906ca4040}\label{cmd_8h_a7bd31e3844f5461db2cbe6d906ca4040}} 
\#define {\bfseries UART\+\_\+\+TX\+\_\+\+SIZE}~50  /$\ast$ Maximum size of the TX buffer $\ast$/
\item 
\mbox{\Hypertarget{cmd_8h_a6b20d41d6252e9871430c242cb1a56e7}\label{cmd_8h_a6b20d41d6252e9871430c242cb1a56e7}} 
\#define {\bfseries BUFFER\+\_\+\+SIZE}~50  /$\ast$ Maximum size of the history buffers $\ast$/
\item 
\mbox{\Hypertarget{cmd_8h_a3018c7600b7bb9866400596a56a57af7}\label{cmd_8h_a3018c7600b7bb9866400596a56a57af7}} 
\#define {\bfseries START}~\textquotesingle{}\#\textquotesingle{}         /$\ast$ Start of Frame Symbol $\ast$/
\item 
\mbox{\Hypertarget{cmd_8h_a29fd18bed01c4d836c7ebfe73a125c3f}\label{cmd_8h_a29fd18bed01c4d836c7ebfe73a125c3f}} 
\#define {\bfseries END}~\textquotesingle{}!\textquotesingle{}          /$\ast$ End of Frame Symbol $\ast$/
\item 
\mbox{\Hypertarget{cmd_8h_aa2008c1bc36d9ef42571a6ec52516d02}\label{cmd_8h_aa2008c1bc36d9ef42571a6ec52516d02}} 
\#define {\bfseries CMD\+\_\+\+SUCCESS}~0
\item 
\mbox{\Hypertarget{cmd_8h_a58d9edeb01fa855cfc869904d55a3cb9}\label{cmd_8h_a58d9edeb01fa855cfc869904d55a3cb9}} 
\#define {\bfseries CMD\+\_\+\+EMPTY\+\_\+\+STRING}~-\/1
\item 
\mbox{\Hypertarget{cmd_8h_a257cfa90b83ea92f857763aecd409836}\label{cmd_8h_a257cfa90b83ea92f857763aecd409836}} 
\#define {\bfseries CMD\+\_\+\+INVALID}~-\/2
\item 
\mbox{\Hypertarget{cmd_8h_a7c05fea069d1051d1e81073d0aaa84c5}\label{cmd_8h_a7c05fea069d1051d1e81073d0aaa84c5}} 
\#define {\bfseries CMD\+\_\+\+CS\+\_\+\+ERROR}~-\/3
\item 
\mbox{\Hypertarget{cmd_8h_ade39201a8e331bdd96c8377224ef6d1f}\label{cmd_8h_ade39201a8e331bdd96c8377224ef6d1f}} 
\#define {\bfseries CMD\+\_\+\+WRONG\+\_\+\+FORMAT}~-\/4
\item 
\mbox{\Hypertarget{cmd_8h_a7cca5ff2d7daf092a74962a305d8c5c7}\label{cmd_8h_a7cca5ff2d7daf092a74962a305d8c5c7}} 
\#define {\bfseries CMD\+\_\+\+FRAMING\+\_\+\+ERROR}~-\/5
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{cmd_8h_acbda56739b42a3e0d02f7c2f6e34fecb}{cmd}} (const uint8\+\_\+t $\ast$cmd\+\_\+buf, int nchar)
\begin{DoxyCompactList}\small\item\em Função para processar comandos recebidos pela UART. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{cmd_8h_a67ae8a79a708a3c5471668bddbd16400}{rx\+Char}} (unsigned char car)
\begin{DoxyCompactList}\small\item\em Envia um caractere para o buffer de recepção UART. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{cmd_8h_abdb4363f0662688850bbcdfb59ce4566}{tx\+Char}} (unsigned char car)
\begin{DoxyCompactList}\small\item\em Envia um caractere para o buffer de transmissão UART. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cmd_8h_a918f38a7eecdd03671d28a3a07f94856}{reset\+Rx\+Buffer}} (void)
\begin{DoxyCompactList}\small\item\em Reseta o buffer de recepção UART. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cmd_8h_abd91ad9b5887f4769f45823899583bab}{reset\+Tx\+Buffer}} (void)
\begin{DoxyCompactList}\small\item\em Reseta o buffer de transmissão UART. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cmd_8h_a8beeddde9a644610c72724be856db6dd}{get\+Tx\+Buffer}} (unsigned char $\ast$buf, int $\ast$len)
\begin{DoxyCompactList}\small\item\em Define a temperatura máxima do sistema. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{cmd_8h_a2a0e03d8d8ff0f0459f7623ffd6d39b1}{calc\+Checksum}} (unsigned char $\ast$buf, int nbytes)
\begin{DoxyCompactList}\small\item\em Calcula o checksum de um buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cmd_8h_af7c6e7096a207b3ca99ad9f783aea579}{int\+To\+Ascii}} (int num, char $\ast$str)
\begin{DoxyCompactList}\small\item\em Converte um número inteiro em uma representação ASCII. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
unsigned char \mbox{\hyperlink{cmd_8h_ae6c75dafeeb8601334ce3cbe089987dd}{UARTRx\+Buffer}} \mbox{[}UART\+\_\+\+RX\+\_\+\+SIZE\mbox{]}
\begin{DoxyCompactList}\small\item\em Buffer de recepção UART. \end{DoxyCompactList}\item 
unsigned char \mbox{\hyperlink{cmd_8h_a823a4908418667c2d93e1c049a1795d9}{rx\+Buf\+Len}}
\begin{DoxyCompactList}\small\item\em Comprimento atual do buffer de recepção UART. \end{DoxyCompactList}\item 
unsigned char \mbox{\hyperlink{cmd_8h_a7801926b7e176ac7223f324794874a2b}{UARTTx\+Buffer}} \mbox{[}UART\+\_\+\+TX\+\_\+\+SIZE\mbox{]}
\begin{DoxyCompactList}\small\item\em Buffer de transmissão UART. \end{DoxyCompactList}\item 
unsigned char \mbox{\hyperlink{cmd_8h_ae8ecfc303888ce93c420f8052dfca1ce}{tx\+Buf\+Len}}
\begin{DoxyCompactList}\small\item\em Comprimento atual do buffer de transmissão UART. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Ficheiro de cabeçalho para teste dos comandos do sistema SETR Mini-\/\+Projeto. 


\begin{DoxyItemize}
\item Este ficheiro contém as declarações das funções e variáveis usadas para testar os comandos do sistema.
\item \#\+Mxxxyyy! -\/ Define a temperatura máxima do sistema (xxx é o valor da temperatura máxima, yyy é o checksum).
\item \#\+Cyyy! -\/ Lê a temperatura atual do sensor (retorna a temperatura atual, seguida do checksum).
\item \#\+Sxxxxyyy! -\/ Define os parâmetros do PID (Kp, Ti, Td) do sistema (xxx são os parametros (Kp, Ti, Td), yyy é o checksum).
\item \begin{DoxyAuthor}{Author}
Nuno Moutinho -\/ 98626 e João Ferreira -\/ 98180
\end{DoxyAuthor}

\item \begin{DoxyDate}{Date}
2025/06/01
\end{DoxyDate}

\item \begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000001}{Bug}}]Desconhecidos\end{DoxyRefDesc}

\end{DoxyItemize}

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{cmd_8h_a2a0e03d8d8ff0f0459f7623ffd6d39b1}\label{cmd_8h_a2a0e03d8d8ff0f0459f7623ffd6d39b1}} 
\index{cmd.h@{cmd.h}!calcChecksum@{calcChecksum}}
\index{calcChecksum@{calcChecksum}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{calcChecksum()}{calcChecksum()}}
{\footnotesize\ttfamily int calc\+Checksum (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{buf,  }\item[{int}]{nbytes }\end{DoxyParamCaption})}



Calcula o checksum de um buffer. 

Esta função calcula o checksum de um buffer de bytes e verifica se o checksum está correto.


\begin{DoxyParams}{Parameters}
{\em buf} & O buffer de bytes para calcular o checksum. \\
\hline
{\em nbytes} & O número de bytes no buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Retorna CMD\+\_\+\+SUCCESS se o checksum estiver correto, ou CMD\+\_\+\+CS\+\_\+\+ERROR se estiver incorreto.
\end{DoxyReturn}
Calcula o checksum de um buffer.

Esta função calcula o checksum de um buffer de bytes e verifica se o checksum calculado corresponde ao checksum esperado. 
\begin{DoxyParams}{Parameters}
{\em buf} & Ponteiro para o buffer de bytes. \\
\hline
{\em nbytes} & Número de bytes no buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Retorna CMD\+\_\+\+SUCCESS se o checksum estiver correto, ou CMD\+\_\+\+CS\+\_\+\+ERROR se houver um erro no checksum. 
\end{DoxyReturn}
\mbox{\Hypertarget{cmd_8h_acbda56739b42a3e0d02f7c2f6e34fecb}\label{cmd_8h_acbda56739b42a3e0d02f7c2f6e34fecb}} 
\index{cmd.h@{cmd.h}!cmd@{cmd}}
\index{cmd@{cmd}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{cmd()}{cmd()}}
{\footnotesize\ttfamily int cmd (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t $\ast$}]{cmd\+\_\+buf,  }\item[{int}]{nchar }\end{DoxyParamCaption})}



Função para processar comandos recebidos pela UART. 


\begin{DoxyItemize}
\item Esta função analisa os comandos recebidos no buffer de recepção UART e executa as ações correspondentes. 
\end{DoxyItemize}\mbox{\Hypertarget{cmd_8h_a8beeddde9a644610c72724be856db6dd}\label{cmd_8h_a8beeddde9a644610c72724be856db6dd}} 
\index{cmd.h@{cmd.h}!getTxBuffer@{getTxBuffer}}
\index{getTxBuffer@{getTxBuffer}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{getTxBuffer()}{getTxBuffer()}}
{\footnotesize\ttfamily void get\+Tx\+Buffer (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{buf,  }\item[{int $\ast$}]{len }\end{DoxyParamCaption})}



Define a temperatura máxima do sistema. 

Esta função atualiza a temperatura máxima permitida no sistema.

Define a temperatura máxima do sistema.

Esta função copia o conteúdo do buffer de transmissão UART para o buffer fornecido e atualiza o comprimento do buffer. 
\begin{DoxyParams}{Parameters}
{\em buf} & Ponteiro para o buffer onde o conteúdo será copiado. \\
\hline
{\em len} & Ponteiro para um inteiro onde o comprimento do buffer será armazenado. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{cmd_8h_af7c6e7096a207b3ca99ad9f783aea579}\label{cmd_8h_af7c6e7096a207b3ca99ad9f783aea579}} 
\index{cmd.h@{cmd.h}!intToAscii@{intToAscii}}
\index{intToAscii@{intToAscii}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{intToAscii()}{intToAscii()}}
{\footnotesize\ttfamily void int\+To\+Ascii (\begin{DoxyParamCaption}\item[{int}]{num,  }\item[{char $\ast$}]{str }\end{DoxyParamCaption})}



Converte um número inteiro em uma representação ASCII. 


\begin{DoxyItemize}
\item Esta função converte um número inteiro em uma string ASCII, desde que o número esteja no intervalo de 1 a 99999. 
\begin{DoxyParams}{Parameters}
{\em num} & O número inteiro a ser convertido. \\
\hline
{\em str} & O buffer onde a representação ASCII será armazenada.\\
\hline
\end{DoxyParams}

\item Esta função verifica se o número é negativo e o converte para positivo antes de a conversão.
\item Se o número estiver fora do intervalo permitido, a string resultante será vazia. 
\end{DoxyItemize}\mbox{\Hypertarget{cmd_8h_a918f38a7eecdd03671d28a3a07f94856}\label{cmd_8h_a918f38a7eecdd03671d28a3a07f94856}} 
\index{cmd.h@{cmd.h}!resetRxBuffer@{resetRxBuffer}}
\index{resetRxBuffer@{resetRxBuffer}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{resetRxBuffer()}{resetRxBuffer()}}
{\footnotesize\ttfamily void reset\+Rx\+Buffer (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reseta o buffer de recepção UART. 

Esta função limpa o buffer de recepção UART, definindo seu comprimento para zero. \mbox{\Hypertarget{cmd_8h_abd91ad9b5887f4769f45823899583bab}\label{cmd_8h_abd91ad9b5887f4769f45823899583bab}} 
\index{cmd.h@{cmd.h}!resetTxBuffer@{resetTxBuffer}}
\index{resetTxBuffer@{resetTxBuffer}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{resetTxBuffer()}{resetTxBuffer()}}
{\footnotesize\ttfamily void reset\+Tx\+Buffer (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reseta o buffer de transmissão UART. 

Esta função limpa o buffer de transmissão UART, definindo seu comprimento para zero. \mbox{\Hypertarget{cmd_8h_a67ae8a79a708a3c5471668bddbd16400}\label{cmd_8h_a67ae8a79a708a3c5471668bddbd16400}} 
\index{cmd.h@{cmd.h}!rxChar@{rxChar}}
\index{rxChar@{rxChar}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{rxChar()}{rxChar()}}
{\footnotesize\ttfamily int rx\+Char (\begin{DoxyParamCaption}\item[{unsigned char}]{car }\end{DoxyParamCaption})}



Envia um caractere para o buffer de recepção UART. 


\begin{DoxyItemize}
\item Esta função adiciona um caractere ao buffer de recepção UART, se o buffer não estiver cheio. 
\begin{DoxyParams}{Parameters}
{\em car} & O caractere a ser recebido. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Retorna 0 se o caractere foi adicionado com sucesso, ou -\/1 se o buffer estiver cheio. 
\end{DoxyReturn}

\end{DoxyItemize}\mbox{\Hypertarget{cmd_8h_abdb4363f0662688850bbcdfb59ce4566}\label{cmd_8h_abdb4363f0662688850bbcdfb59ce4566}} 
\index{cmd.h@{cmd.h}!txChar@{txChar}}
\index{txChar@{txChar}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{txChar()}{txChar()}}
{\footnotesize\ttfamily int tx\+Char (\begin{DoxyParamCaption}\item[{unsigned char}]{car }\end{DoxyParamCaption})}



Envia um caractere para o buffer de transmissão UART. 


\begin{DoxyItemize}
\item Esta função adiciona um caractere ao buffer de transmissão UART, se o buffer não estiver cheio. 
\begin{DoxyParams}{Parameters}
{\em car} & O caractere a ser enviado. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Retorna 0 se o caractere foi adicionado com sucesso, ou -\/1 se o buffer estiver cheio. 
\end{DoxyReturn}

\end{DoxyItemize}

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{cmd_8h_a823a4908418667c2d93e1c049a1795d9}\label{cmd_8h_a823a4908418667c2d93e1c049a1795d9}} 
\index{cmd.h@{cmd.h}!rxBufLen@{rxBufLen}}
\index{rxBufLen@{rxBufLen}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{rxBufLen}{rxBufLen}}
{\footnotesize\ttfamily unsigned char rx\+Buf\+Len\hspace{0.3cm}{\ttfamily [extern]}}



Comprimento atual do buffer de recepção UART. 


\begin{DoxyItemize}
\item Indica o número de bytes atualmente armazenados no buffer de recepção UART.
\end{DoxyItemize}

Comprimento atual do buffer de recepção UART.

Indica o número de bytes atualmente armazenados no buffer de recepção UART. \mbox{\Hypertarget{cmd_8h_ae8ecfc303888ce93c420f8052dfca1ce}\label{cmd_8h_ae8ecfc303888ce93c420f8052dfca1ce}} 
\index{cmd.h@{cmd.h}!txBufLen@{txBufLen}}
\index{txBufLen@{txBufLen}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{txBufLen}{txBufLen}}
{\footnotesize\ttfamily unsigned char tx\+Buf\+Len\hspace{0.3cm}{\ttfamily [extern]}}



Comprimento atual do buffer de transmissão UART. 


\begin{DoxyItemize}
\item Indica o número de bytes atualmente armazenados no buffer de transmissão UART.
\end{DoxyItemize}

Comprimento atual do buffer de transmissão UART.

Indica o número de bytes atualmente armazenados no buffer de transmissão UART. \mbox{\Hypertarget{cmd_8h_ae6c75dafeeb8601334ce3cbe089987dd}\label{cmd_8h_ae6c75dafeeb8601334ce3cbe089987dd}} 
\index{cmd.h@{cmd.h}!UARTRxBuffer@{UARTRxBuffer}}
\index{UARTRxBuffer@{UARTRxBuffer}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{UARTRxBuffer}{UARTRxBuffer}}
{\footnotesize\ttfamily unsigned char UARTRx\+Buffer\mbox{[}UART\+\_\+\+RX\+\_\+\+SIZE\mbox{]}\hspace{0.3cm}{\ttfamily [extern]}}



Buffer de recepção UART. 


\begin{DoxyItemize}
\item Este buffer é usado para armazenar os dados recebidos pela UART.
\end{DoxyItemize}

Buffer de recepção UART.

Define o tamanho máximo do buffer de recepção UART. \mbox{\Hypertarget{cmd_8h_a7801926b7e176ac7223f324794874a2b}\label{cmd_8h_a7801926b7e176ac7223f324794874a2b}} 
\index{cmd.h@{cmd.h}!UARTTxBuffer@{UARTTxBuffer}}
\index{UARTTxBuffer@{UARTTxBuffer}!cmd.h@{cmd.h}}
\doxysubsubsection{\texorpdfstring{UARTTxBuffer}{UARTTxBuffer}}
{\footnotesize\ttfamily unsigned char UARTTx\+Buffer\mbox{[}UART\+\_\+\+TX\+\_\+\+SIZE\mbox{]}\hspace{0.3cm}{\ttfamily [extern]}}



Buffer de transmissão UART. 


\begin{DoxyItemize}
\item Este buffer é usado para armazenar os dados a serem enviados pela UART.
\end{DoxyItemize}

Buffer de transmissão UART.

Define o tamanho máximo do buffer de transmissão UART. 